// "use client";   
// export default function page () {
//   return (
//     <div>
//         <div className="text-xl dark:text-white">Course page</div>

//         <div className="text-lg dark:text-white">Lorem ipsum dolor sit amet consectetur adipisicing elit. Mollitia officia nam consequatur nihil magni hic voluptatum perspiciatis dolorum, corrupti aut eos autem exercitationem cumque cupiditate ea voluptatibus quaerat laudantium itaque laboriosam nostrum dicta iste. Voluptas, officiis dolor, velit perferendis et doloremque fuga in ut veniam recusandae commodi aspernatur voluptatibus, ipsum mollitia. Doloremque, omnis ad. Iusto delectus vel minima quidem accusamus debitis, totam suscipit neque distinctio ipsa sint quas quam. Ratione dolores, consectetur non sit molestias quam provident ad vitae, voluptates facilis asperiores tempore! Possimus odio, ullam, atque nihil est laboriosam, placeat labore molestiae sint velit facere in. Optio debitis impedit, ex saepe deleniti voluptatem qui ducimus dolorum vitae minima quisquam et quaerat recusandae accusamus obcaecati placeat laudantium molestias delectus! Aliquid cupiditate, iusto voluptatem molestias nobis iste porro facilis delectus doloremque quasi voluptas alias sed magnam et cum quibusdam suscipit ipsa aperiam consequatur assumenda provident incidunt est. In nihil porro nisi maiores rem aliquid voluptates, sequi corrupti quidem voluptas explicabo fuga repudiandae! Quis qui hic ipsum. Facere, asperiores ipsum? Cumque ducimus reprehenderit minima aperiam dolor fugit et, inventore officiis maxime odit beatae eum, laborum aut enim nisi, maiores quos nam! Quo minus tempore sequi alias aliquam provident? Aliquid quis id animi, ipsum dolor qui. Placeat accusantium asperiores delectus odit animi a est numquam aspernatur minus sequi? Perferendis obcaecati ipsam nihil qui laboriosam sed fugit provident quisquam quae magnam omnis accusantium, excepturi voluptatum doloremque, distinctio fuga blanditiis quod odio neque libero cupiditate veniam ex sit praesentium! Ab doloribus, ducimus sequi, voluptatem soluta perspiciatis in repellat harum, non expedita quam minus eum assumenda. Officiis aut vitae animi quis at labore, doloremque iure cupiditate numquam odit reprehenderit vel ipsum. Natus iure alias deserunt, aut officia porro maiores itaque delectus fuga nihil a sit deleniti expedita repudiandae ad accusamus repellendus dolorem et ipsa aliquam, quis voluptatem? Ullam aliquid quos quasi nostrum expedita ipsa! Tempore cupiditate tenetur aut perferendis repellat, placeat facilis, voluptatibus voluptas, nulla perspiciatis voluptatum voluptatem dignissimos. Quae natus corrupti beatae dolore ratione quis sunt sit magni, laudantium autem tempore iste aperiam neque itaque, sequi rem in magnam exercitationem repellat, accusamus alias? Necessitatibus perferendis voluptate doloribus accusamus quo, quasi reprehenderit impedit minus eum accusantium eos. Magni quidem porro voluptatum reprehenderit dolorem fugit quaerat fugiat dolores nemo molestiae earum odit ratione, pariatur sed inventore aspernatur cupiditate itaque saepe amet unde voluptates. Itaque rem repellat, et distinctio quos modi sequi illum, iure enim neque in magnam, eum atque veniam doloribus fugiat aut illo quis consectetur magni? Harum, pariatur a. Fugiat nesciunt optio ut deleniti mollitia assumenda corporis quos atque incidunt nobis rem debitis vero magnam nulla dolores corrupti voluptas, ab ipsa expedita distinctio repudiandae sunt vitae? Vel, est modi atque, quisquam minima, odit assumenda autem deserunt in fugiat ipsa cupiditate nesciunt quod esse! Aut, laboriosam velit! Cupiditate non praesentium voluptate est vitae alias, provident debitis fugiat obcaecati voluptatibus harum! Et quae incidunt eligendi dolorum voluptatum reiciendis ad labore quibusdam delectus ipsa, porro temporibus neque aspernatur voluptatibus impedit atque, sit libero molestias dolore, illo blanditiis ipsum deserunt. In neque tempore fugiat vitae, assumenda labore nisi error ut quos excepturi libero similique qui accusantium tenetur debitis aspernatur explicabo! Consequuntur facilis praesentium molestias ad ea eveniet aliquid ipsa? Nisi veniam libero provident laboriosam illo? Optio ducimus, incidunt facere officia quos aut fugit vero eveniet architecto vel nostrum ratione, voluptatum assumenda esse accusantium exercitationem quas itaque veniam ab. Voluptatum, aperiam magnam nostrum omnis cupiditate recusandae minima doloribus nisi assumenda consequuntur, maiores laudantium necessitatibus animi saepe veritatis officiis dignissimos neque consectetur, rem vero. Cupiditate, nihil nisi necessitatibus nesciunt accusantium pariatur deserunt minima quas molestias fugit eaque porro atque veniam eveniet! Natus sint commodi itaque libero iusto dicta aliquid ducimus! Perspiciatis sequi iure vitae, obcaecati, nisi expedita nulla nostrum animi nemo recusandae minima doloribus corporis a error, aliquam beatae id minus sint quam ut eaque nihil? Aliquid similique totam enim rem ad quisquam magnam fugit obcaecati sunt, incidunt placeat modi velit natus impedit aliquam, molestias, cum amet illo? Sit modi, dolorum voluptatem nobis ullam similique expedita facere veritatis eos, sunt labore magnam ipsam omnis totam unde vitae voluptas magni quis. Quae quod perspiciatis asperiores velit qui consequuntur exercitationem illum numquam commodi saepe iusto, molestiae nulla itaque autem nam eos voluptatibus deserunt! Ipsam ut est vitae delectus vel accusamus mollitia, architecto reprehenderit minus earum quae adipisci eius voluptatum repudiandae molestiae possimus enim pariatur neque, numquam culpa, harum perferendis sint odit? Repellendus, voluptas tenetur? Quae recusandae dolor aliquid quo! Accusamus, error? Architecto maiores, placeat maxime saepe expedita repellendus repudiandae adipisci cupiditate alias reprehenderit dolore illum necessitatibus quod tenetur voluptatem sunt ducimus distinctio beatae molestias non ab ad minima eum. Nisi ullam ratione inventore reprehenderit dignissimos similique veniam? Minus quas odio consequatur laboriosam impedit maiores et itaque doloremque sunt inventore aliquid doloribus ut quia eveniet culpa modi quasi, corporis cupiditate explicabo, eius quam? Error beatae suscipit esse fuga laudantium, quasi asperiores ab et, animi aperiam odio consequatur totam. Nesciunt perferendis officia, facere quo quia repudiandae minima, ipsam, tempore ea distinctio animi eaque nobis excepturi vero ducimus eligendi alias ullam. Repellendus doloremque aut impedit, dicta voluptatum nemo et, fugit omnis hic earum optio dolorem recusandae voluptates, quos consectetur veniam aspernatur doloribus. Ea ut veritatis ad eius doloribus. Eligendi ipsum debitis fugit enim ipsa, minus ad. Harum doloremque natus perspiciatis repellat vel corrupti laborum, voluptatibus reiciendis. Nisi aspernatur esse eius quidem illo sequi impedit delectus commodi est, distinctio animi labore voluptas repellat perferendis? Voluptate provident, praesentium sequi maiores dignissimos magnam modi quas harum minima cupiditate exercitationem! At, doloribus, sapiente consequuntur eum numquam quam porro, ullam ab odit voluptas ipsa dolorum voluptate commodi. Perspiciatis eveniet, sunt harum quas fugiat esse reiciendis distinctio commodi deleniti explicabo impedit eligendi quasi dolor nesciunt rerum voluptate tenetur, aut consequatur facilis magnam, natus velit! Doloremque ex officiis, quia, amet aperiam inventore adipisci similique eius voluptates modi asperiores excepturi ipsam nihil qui quis voluptatum quos laboriosam dolores ipsum! Magnam, ipsa itaque ipsam nemo beatae doloribus dolorem iusto explicabo doloremque deleniti corporis incidunt aspernatur rem? Soluta amet maxime recusandae eos cupiditate error, provident consequatur culpa!</div>

//     </div>
//   )
// }


'use client';
import { useState, useEffect } from 'react'
import Image from 'next/image'
import Link from 'next/link'
import axios from 'axios';
import { Book, Clock, Users } from 'lucide-react'

// const courses = [
//   {
//     id: 1,
//     title: 'Introduction to React',
//     description: 'Learn the basics of React and build your first app',
//     instructor: 'Jane Doe',
//     duration: '4 weeks',
//     students: 1234,
//     image: '/webDev.jpg',
//   },
//   {
//     id: 2,
//     title: 'Advanced JavaScript Concepts',
//     description: 'Deep dive into advanced JavaScript features and patterns',
//     instructor: 'John Smith',
//     duration: '6 weeks',
//     students: 987,
//     image: '/Cover.png',
//   },
//   {
//     id: 3,
//     title: 'CSS Mastery',
//     description: 'Master CSS layouts, animations, and responsive design',
//     instructor: 'Emily Chen',
//     duration: '5 weeks',
//     students: 1567,
//     image: '/ds.jpg',
//   },
//   {
//     id: 4,
//     title: 'Node.js Backend Development',
//     description: 'Build scalable backend applications with Node.js',
//     instructor: 'Michael Johnson',
//     duration: '8 weeks',
//     students: 2345,
//     image: '/Cover.png',
//   },
// ]

export default function Courses() {

  const [courses, setCourses] = useState([])
  const [isLoading, setIsLoading] = useState(true)
  const [error, setError] = useState(null)

  useEffect(() => {
    const fetchCourses = async () => {
      try {
        const response = await axios.get('/api/courses');
        setCourses(response.data);
      } catch (err) {
        setError(err.response?.data?.message || err.message);
      } finally {
        setIsLoading(false);
      }
    };

    fetchCourses();
  }, []);

  // useEffect(() => {
  //   const fetchCourses = async () => {
  //     try {
  //       const response = await fetch('/api/courses')
  //       if (!response.ok) {
  //         throw new Error('Failed to fetch courses')
  //       }
  //       const data = await response.json()
  //       setCourses(data)
  //       setIsLoading(false)
  //     } catch (err) {
  //       setError(err.message)
  //       setIsLoading(false)
  //     }
  //   }

  //   fetchCourses()
  // }, [])

  if (isLoading) {
    return (
      <div className="flex justify-center items-center h-64">
        <div className="animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-purple-500"></div>
      </div>
    )
  }

  if (error) {
    return (
      <div className="text-center text-red-500">
        <h2 className="text-2xl font-bold mb-4">Error</h2>
        <p>{error}</p>
      </div>
    )
  }

  return (
    <div className="space-y-6">
      <h1 className="text-3xl font-bold text-gray-900 dark:text-white">Courses</h1>
      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {courses.map((course) => (
          <div key={course._id} className="bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:bg-gray-200 dark:hover:bg-gray-700">
            <Image
              src={course.image}
              alt={course.title}
              width={300}
              height={200}
              className="w-full h-48 object-cover"
            />
            <div className="p-6 space-y-4">
              <h2 className="text-xl font-semibold text-gray-900 dark:text-white">{course.title}</h2>
              <p className="text-gray-600 dark:text-gray-300">{course.description}</p>
              <div className="flex items-center text-sm text-gray-500 dark:text-gray-400">
                <Users className="w-4 h-4 mr-1" />
                <span>{course.students} students</span>
              </div>
              <div className="flex items-center text-sm text-gray-500 dark:text-gray-400">
                <Clock className="w-4 h-4 mr-1" />
                <span>{course.duration}</span>
              </div>
              <div className="flex items-center text-sm text-gray-500 dark:text-gray-400">
                <Book className="w-4 h-4 mr-1" />
                <span>{course.instructor}</span>
              </div>
              <Link
                href={`/dashboard/courses/${course._id}`}
                className="block w-full text-center bg-purple-600 text-white py-2 px-4 rounded-md hover:bg-purple-700 transition duration-300"
              >
                View Course
              </Link>
            </div>
          </div>
        ))}
      </div>
    </div>
  )
}

